<div class="json-schema-view" ng-class="{collapsed: isCollapsed}">

  <!-- Primitive -->
  <div class="primitive" ng-if="isPrimitive">
    <a class="title" ng-click="toggle()"><span class="toggler"
      ng-if="isPrimitiveCollapsible()"></span>{{schema.title}}</a>
    <span class="type">{{schema.type}}</span>
    <span class="required" ng-if="isRequired(schema)">*</span>
    <span class="format" ng-if="!isCollapsed && schema.format">({{schema.format}})</span>
    <span class="range minimum" ng-if="!isCollapsed && schema.minimum">minimum:{{schema.minimum}}</span>
    <span class="range maximum" ng-if="!isCollapsed && schema.maximum">maximum:{{schema.maximum}}</span>
    <div class="description">{{schema.description}}</div>
  </div>



  <!-- Array -->
  <div ng-if="isArray" class="array">
    <a class="title" ng-click="toggle()"><span
      class="toggler"></span>{{schema.title}} <span class="opening bracket">[</span><span class="closing bracket" ng-if="isCollapsed">]</span>
    </a>
    <div class="inner">
      <div class="description">{{schema.description}}</div>
      <json-schema-view ng-if="!isCollapsed" schema="schema.items" open="open - 1"></json-schema-view>
    </div>
    <span class="closing bracket" ng-if="!isCollapsed">]</span>
  </div>

  <!-- Object -->
  <div ng-if="!isPrimitive && !isArray" class="object">
    <a class="title" ng-click="toggle()"><span
      class="toggler"></span>{{schema.title}} <span
      class="opening brace">{</span><span class="closing brace" ng-if="isCollapsed">}</span>
    </a>

    <div class="inner">
      <div class="description">{{schema.description}}</div>
      <div class="property" ng-repeat="(propertyName, property) in schema.properties">
        <span class="name">{{propertyName}}:</span>
        <json-schema-view schema="property" open="open - 1"></json-schema-view>
      </div>
    </div>
    <span class="closeing brace" ng-if="!isCollapsed">}</span>
  </div>
</div>
